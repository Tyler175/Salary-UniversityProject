{"remainingRequest":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\University\\SoftDevTech\\Salary\\frontend\\src\\views\\Absences.vue?vue&type=style&index=0&module=true&lang=css&","dependencies":[{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\src\\views\\Absences.vue","mtime":1637421860686},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n.mx-datepicker{\n  width: fit-content;\n}\n.date-picker{\n  width: 280px;\n}\n.h1{\n  padding-left: 0;\n}\n\n",{"version":3,"sources":["Absences.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Absences.vue","sourceRoot":"src/views","sourcesContent":["<style module>\r\n  .mx-datepicker{\r\n    width: fit-content;\r\n  }\r\n  .date-picker{\r\n    width: 280px;\r\n  }\r\n  .h1{\r\n    padding-left: 0;\r\n  }\r\n\r\n</style>\r\n<template>\r\n  <div v-if=\"currentUser\">\r\n    <v-header\r\n        v-bind:user=\"{\r\n        firstName: user.firstName,\r\n        profilePicture: user.profilePicture,\r\n        gender: user.gender\r\n      }\">\r\n    </v-header>\r\n\r\n    <div class=\"container\">\r\n      <v-menu></v-menu>\r\n\r\n      <div class=\"content\" style=\"width: calc(80% - 15% - 285px + 245px); padding:15px 30px\">\r\n        <h1 class=\"h1\">Пропуски работы</h1>\r\n        <div class=\"row\">\r\n          <date-picker v-model=\"selectedDates\"\r\n                       style=\"outline: 0;\r\n                              width: 280px;\r\n                              border: 1px solid #dce1e6;\r\n                              border-radius: 3px;\r\n                              padding: 6px 12px;\"\r\n                       type=\"month\"\r\n                       :range=true\r\n                       range-separator = \" - \"\r\n                       format=\"MMMM YYYY\"\r\n                       :lang=\"lang\"\r\n                       :clearable = \"false\"\r\n                       input-class=\"date-picker\"\r\n                       placeholder=\"Выбрать\">\r\n          </date-picker>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Menu from \"@/views/components/Menu\";\r\nimport Header from \"@/views/components/Header\";\r\nimport UserService from \"@/services/user.service\";\r\n\r\nimport DatePicker from 'vue2-datepicker';\r\nimport 'vue2-datepicker/index.css';\r\nimport 'vue2-datepicker/locale/es/ru.js';\r\n\r\nexport default {\r\n  name: \"Absences\",\r\n  data(){\r\n    return{\r\n      message: '',\r\n\r\n      selectedDates: [new Date(new Date()),new Date(new Date())],\r\n\r\n      user:{\r\n        firstName: '',\r\n        profilePicture: '',\r\n        gender: false\r\n      },\r\n\r\n      lang: {\r\n        formatLocale: {\r\n          months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n        }\r\n      },\r\n    };\r\n  },\r\n  components:{\r\n    DatePicker,\r\n    'v-menu' : Menu,\r\n    'v-header': Header\r\n  },\r\n  computed: {\r\n    currentUser() {\r\n      return this.$store.state.auth.user;\r\n    },\r\n    isUserAdmin() {\r\n      if (this.currentUser && this.currentUser.roles) {\r\n        return this.currentUser.roles.includes('ROLE_ADMIN');\r\n      }\r\n\r\n      return false;\r\n    },\r\n    isUserAccountant() {\r\n      if (this.currentUser && this.currentUser.roles) {\r\n        return this.currentUser.roles.includes('ROLE_ACCOUNTANT');\r\n      }\r\n\r\n      return false;\r\n    }\r\n  },\r\n  methods: {\r\n    changeUser(){\r\n      UserService.changeUser(this.currentUser.id, this.user).then(\r\n          response => {\r\n            response.data;\r\n          },\r\n          error => {\r\n            this.message =\r\n                (error.response && error.response.data && error.response.data.message) ||\r\n                error.message ||\r\n                error.toString();\r\n          }\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.currentUser) {\r\n      this.$router.push('/login');\r\n    }\r\n    UserService.getUser(this.currentUser.id).then(\r\n        response => {\r\n          this.user = response.data;\r\n          this.user.birthday = new Date(response.data.birthday);\r\n        },\r\n        error => {\r\n          this.message =\r\n              (error.response && error.response.data && error.response.data.message) ||\r\n              error.message ||\r\n              error.toString();\r\n        }\r\n    );\r\n  }\r\n}\r\n</script>"]}]}