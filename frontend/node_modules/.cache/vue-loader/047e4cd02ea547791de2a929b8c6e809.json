{"remainingRequest":"C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\src\\views\\Login.vue","mtime":1636883624971},{"path":"C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Вуз\\ТехнРазПО\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport User from '../models/user';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      user: new User('', ''),\n      loading: false,\n      message: ''\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    }\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push('/profile');\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.loading = true;\n      this.$validator.validateAll().then(isValid => {\n        if (!isValid) {\n          this.loading = false;\n          return;\n        }\n\n        if (this.user.email && this.user.password) {\n          this.$store.dispatch('auth/login', this.user).then(\n            () => {\n              this.$router.push('/profile');\n            },\n            error => {\n              this.loading = false;\n              this.message =\n                (error.response && error.response.data && error.response.data.message) ||\n                error.message ||\n                error.toString();\n            }\n          );\n        }\n      });\n    }\n  }\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\n      <form class=\"login-form\" name=\"form\" @submit.prevent=\"handleLogin\">\n        <div class=\"form-group\">\n          <h1 style=\"text-align: center\">Вход</h1>\n        </div>\n        <div class=\"form-group\">\n          <input\n            v-model=\"user.email\"\n            v-validate=\"'required|email|max:50'\"\n            type=\"email\"\n            class=\"form-control\"\n            placeholder=\"Логин\"\n            name=\"логин\"\n          />\n          <div\n              v-if=\"errors.has('логин')\"\n              class=\"alert-error\"\n          >{{errors.first('логин')}}</div>\n        </div>\n        <div class=\"form-group\">\n\n          <input\n            v-model=\"user.password\"\n            v-validate=\"'required|min:6|max:40'\"\n            type=\"password\"\n            class=\"form-control\"\n            placeholder=\"Пароль\"\n            name=\"пароль\"\n          />\n          <div\n              v-if=\"errors.has('пароль')\"\n              class=\"alert-error\"\n          >{{errors.first('пароль')}}</div>\n        </div>\n        <button class=\"btn\" :disabled=\"loading\">\n          <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span><!--Not used yet-->\n          <span>Войти</span>\n        </button>\n        <div v-if=\"message\" class=\"form-group\">\n          <div class=\"alert alert-error\" role=\"alert\">\n            <div v-if=\"message === 'Bad credentials'\">Неверный логин или пароль</div>\n            <div v-else>{{message}}</div>\n          </div>\n        </div>\n<!--        <p class=\"registr\">Нет аккаунта?-->\n<!--          <router-link to=\"/register\">-->\n<!--          Зарегистрироваться-->\n<!--          </router-link>-->\n\n<!--        </p>-->\n      </form>\n</template>\n\n<script>\nimport User from '../models/user';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      user: new User('', ''),\n      loading: false,\n      message: ''\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    }\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push('/profile');\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.loading = true;\n      this.$validator.validateAll().then(isValid => {\n        if (!isValid) {\n          this.loading = false;\n          return;\n        }\n\n        if (this.user.email && this.user.password) {\n          this.$store.dispatch('auth/login', this.user).then(\n            () => {\n              this.$router.push('/profile');\n            },\n            error => {\n              this.loading = false;\n              this.message =\n                (error.response && error.response.data && error.response.data.message) ||\n                error.message ||\n                error.toString();\n            }\n          );\n        }\n      });\n    }\n  }\n};\n</script>\n\n"]}]}