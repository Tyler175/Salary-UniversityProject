{"remainingRequest":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\University\\SoftDevTech\\Salary\\frontend\\src\\views\\Absences.vue?vue&type=template&id=246c7d10&scoped=true&","dependencies":[{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\src\\views\\Absences.vue","mtime":1638181137513},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div v-if=\"currentUser\">\n  <v-header\n      v-bind:user=\"{\n      firstName: user.firstName,\n      profilePicture: user.profilePicture,\n      gender: user.gender\n    }\">\n  </v-header>\n\n  <v-absenceEdit v-if=\"isEditorActive\"\n                 :absence=\"absenceToEdit\"\n                 :userToEdit = \"userToEdit\"\n                 :success = \"successEdit\"\n                 :close=\"closeEditor\"\n                 :isUserAccountant=\"isUserAccountant\"></v-absenceEdit>\n\n  <div class=\"container\">\n    <v-menu></v-menu>\n\n    <div class=\"content\" style=\"width: calc(80% - 15% - 285px + 245px);\">\n      <h1 class=\"h1\">Пропуски работы</h1>\n      <div class=\"separator\"></div>\n      <div class=\"row\" style=\"align-items: flex-start\">\n        <div class=\"column\">\n          <div class=\"row user-info\">Показать пропуски за период:</div>\n          <div v-if=\"isUserAccountant\" class=\"row user-info\">Сотрудник:</div>\n          <div v-if=\"isUserAccountant\" class=\"row user-info\">Должность:</div>\n        </div>\n        <div class=\"column\">\n          <div class=\"row\" style=\"margin: 8px 0\">\n            <date-picker v-model=\"selectedDates\"\n                         @change=\"getAbsences\"\n                         style=\"outline: 0;\n                            width: 280px;\n                            border: 1px solid #dce1e6;\n                            border-radius: 3px;\n                            padding: 6px 12px;\"\n                         type=\"month\"\n                         :range=true\n                         range-separator = \" - \"\n                         format=\"MMMM YYYY\"\n                         :lang=\"lang\"\n                         :clearable = \"false\"\n                         input-class=\"date-picker kludge\"\n                         placeholder=\"Выбрать\">\n            </date-picker>\n          </div>\n          <!-- it should be the component because you copy paste this fragment at least three times-->\n          <div v-if=\"isUserAccountant\" class=\"row\" v-click-outside=\"deactivateWorkerFocus\" style=\"margin: 8px 0; position: relative\">\n            <div style=\"position: relative; width: 100%\">\n              <input v-on:focus=\"workerFocus = true\" type=\"text\" class=\"border-input\" style=\"width: 100%\" v-model=\"selectedWorker\" @input=\"getUsersByName()\">\n              <span class=\"material-icons close-icon\" @click=\"selectedWorker=''; selectedWorkerId=''; getAbsences()\" style=\"position: absolute; top:calc(50% - 10px); right:18px;\">close</span>\n            </div>\n\n            <div v-if=\"selectedWorker && workerFocus && workers.length\" class=\"input-select\">\n              <div v-for=\"worker in workers\" :key=\"worker.id\" @click=\"selectedWorker=worker.firstName+worker.lastName+worker.patronymic; selectedWorkerId=worker.id; workerFocus=false; getAbsences()\">\n                {{worker.lastName}} {{worker.firstName}} {{worker.patronymic}}\n              </div>\n            </div>\n          </div>\n          <div v-if=\"isUserAccountant\" class=\"row\" v-click-outside=\"deactivatePositionFocus\" style=\"margin: 8px 0; position: relative\">\n            <div style=\"position: relative; width: 100%\">\n              <input v-on:focus=\"positionFocus = true\" type=\"text\" class=\"border-input\" style=\"width: 100%\" v-model=\"selectedPosition\">\n              <span class=\"material-icons close-icon\" @click=\"selectedPosition=''; selectedPositionId=''; getAbsences()\" style=\"position: absolute; top:calc(50% - 10px); right:18px;\">close</span>\n            </div>\n\n            <div v-if=\"positionFocus && positions.filter(i => i.name.toLowerCase().startsWith(selectedPosition.toLowerCase())).length\" class=\"input-select\">\n              <div v-for=\"position in positions.filter(i => i.name.toLowerCase().startsWith(selectedPosition.toLowerCase()))\" :key=\"position.id\" @click=\"selectedPosition=position.name; selectedPositionId=position.id; positionFocus=false; getAbsences()\">{{position.name}}</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\" style=\"margin: 10px 15px 10px auto\"><div class=\"btn btn-thin\" style=\"margin: 0\" @click=\"openEditor({})\">Добавить информацию о пропусках</div></div>\n      </div>\n\n      <div class=\"separator\"></div>\n      <div class=\"row\">\n        <div v-if=\"usersAbsences.length\" style=\"width: 100%;\">\n          <div v-for=\"userAbsences in usersAbsences\" :key=\"userAbsences.id\">\n            <div class=\"userAbsences\" @click=\"openEditor(absence, userAbsences)\"\n                 v-bind:style=\"success === absence.id ? 'box-shadow: 0 2px 0 0 #a3dba8, 0 0 0 2px #b3eec1;': 'box-shadow: 0 1px 0 0 #dce1e6, 0 0 0 1px #e7e8ec;'\"\n                 :ref=\"'absence'+absence.id\"\n                 v-for=\"absence in userAbsences.workerInfo.absences\" :key=\"absence.id\">\n\n              <img :src=\"userAbsences.profilePicture ?\n                           require('../../public/images/store/'+userAbsences.profilePicture) :\n                           require('../../public/images/default'+(userAbsences.gender ? 'Woman':'Man')+'.png')\"\n                   v-bind:alt=\"userAbsences.firstName\"/>\n\n              <div class=\"column\" style=\"justify-content: space-between; width:250px\">\n                <div style=\"margin-bottom: 12px; width: max-content\">{{userAbsences.lastName}} {{userAbsences.firstName}} {{userAbsences.patronymic}}</div>\n                <div style=\"width: max-content\">{{new Date(absence.startDate).toLocaleDateString()}} - {{new Date(absence.endDate).toLocaleDateString()}}</div>\n              </div>\n              <div style=\"margin-left: 30px\">Причина:</div>\n              <div style=\"margin-left: 10px; white-space: pre\">{{absence.reason}}</div>\n              <div style=\"margin-left: auto;\">\n                <span v-on:click.stop=\"deleteAbsence(userAbsences.id,absence.id)\" class=\"material-icons close-icon\">close</span>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        <div style=\"padding-left: 15px\" v-else>За данный период пропусков не было</div>\n      </div>\n    </div>\n  </div>\n</div>\n",null]}