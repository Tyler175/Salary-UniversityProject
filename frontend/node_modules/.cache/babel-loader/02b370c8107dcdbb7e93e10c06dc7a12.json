{"remainingRequest":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\University\\SoftDevTech\\Salary\\frontend\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\src\\views\\Register.vue","mtime":1636046180698},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\University\\SoftDevTech\\Salary\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport User from \"../models/user\";\nexport default {\n  name: 'Register',\n  data: function data() {\n    return {\n      user: new User('', '', ''),\n      password2: '',\n      submitted: false,\n      successful: false,\n      message: ''\n    };\n  },\n  computed: {\n    loggedIn: function loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    notSamePasswords: function notSamePasswords() {\n      if (this.user.password !== '' && this.password2 !== '') {\n        return this.user.password !== this.password2;\n      } else {\n        return false;\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.loggedIn) {\n      this.$router.push('/profile');\n    }\n  },\n  methods: {\n    handleRegister: function handleRegister() {\n      var _this = this;\n\n      this.message = '';\n      this.submitted = true;\n      this.$validator.validate().then(function (isValid) {\n        if (isValid && !_this.notSamePasswords) {\n          _this.$store.dispatch('auth/register', _this.user).then(function (data) {\n            _this.message = data.message;\n            _this.successful = true;\n          }, function (error) {\n            _this.message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n            _this.successful = false;\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,OAAA,IAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,gBAJA,8BAIA;AACA,UAAA,KAAA,IAAA,CAAA,QAAA,KAAA,EAAA,IAAA,KAAA,SAAA,KAAA,EAAA,EAAA;AACA,eAAA,KAAA,IAAA,CAAA,QAAA,KAAA,KAAA,SAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AACA;AAVA,GAXA;AAuBA,EAAA,OAvBA,qBAuBA;AACA,QAAA,KAAA,QAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,WAAA,OAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,QAAA,GAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,OAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAAA,OAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AACA,WAJA,EAKA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GACA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,IACA,KAAA,CAAA,OADA,IAEA,KAAA,CAAA,QAAA,EAHA;AAIA,YAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,WAXA;AAaA;AACA,OAhBA;AAiBA;AArBA;AA5BA,CAAA","sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"form\">\n\n      <form v-if=\"!successful\" class=\"registration-form\" name=\"form\" @submit.prevent=\"handleRegister\">\n          <h1 style=\"text-align: center\">Регистрация</h1>\n          <div class=\"form-group\">\n            <input\n              v-model=\"user.username\"\n              v-validate=\"'required|min:3|max:20'\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"Имя\"\n              name=\"логин\"\n            />\n            <div\n              v-if=\"submitted && errors.has('логин')\"\n              class=\"alert-error\"\n            >{{errors.first('логин')}}</div>\n          </div>\n          <div class=\"form-group\">\n            <input\n              v-model=\"user.email\"\n              v-validate=\"'required|email|max:50'\"\n              type=\"email\"\n              class=\"form-control\"\n              placeholder=\"Почта\"\n              name=\"почта\"\n            />\n            <div\n              v-if=\"submitted && errors.has('почта')\"\n              class=\"alert-error\"\n            >{{errors.first('почта')}}</div>\n          </div>\n          <div class=\"form-group\">\n            <input\n              v-model=\"user.password\"\n              v-validate=\"'required|min:6|max:40'\"\n              type=\"password\"\n              class=\"form-control\"\n              placeholder=\"Пароль\"\n              name=\"пароль\"\n            />\n            <div\n              v-if=\"submitted && errors.has('пароль')\"\n              class=\"alert-error\"\n            >{{errors.first('пароль')}}</div>\n          </div>\n          <div class=\"form-group\">\n            <input\n                v-model=\"password2\"\n                v-validate=\"'required'\"\n                type=\"password\"\n                class=\"form-control\"\n                placeholder=\"Подтвердите пароль\"\n                name=\"подтверждения пароля\"\n            />\n            <div\n                v-if=\"submitted && errors.has('подтверждения пароля')\"\n                class=\"alert-error\"\n            >{{errors.first('подтверждения пароля')}}</div>\n            <div\n                v-if=\"notSamePasswords\"\n                class=\"alert-error\"\n            >Пароли не совпадают</div>\n          </div>\n          <button class=\"btn\">\n            <span>Зарегистрироваться</span>\n          </button>\n        <div class=\"form-group\">\n          <div\n              v-if=\"message\"\n              class=\"alert\"\n              :class=\"successful ? 'alert-success' : 'alert-error'\">\n            {{message}}\n          </div>\n        </div>\n      </form>\n\n\n<!--      <p v-if=\"!successful\" class=\"registr\">Уже есть аккаунт?-->\n<!--        <router-link to=\"/login\">-->\n<!--          Войти-->\n<!--        </router-link>-->\n\n<!--      </p>-->\n<!--      <p v-else class=\"registr\">-->\n<!--        <router-link to=\"/login\">-->\n<!--          Войти-->\n<!--        </router-link>-->\n\n<!--      </p>-->\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport User from '../models/user';\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      user: new User('', '', ''),\n      password2: '',\n      submitted: false,\n      successful: false,\n      message: ''\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    notSamePasswords () {\n      if (this.user.password !== '' && this.password2 !== '') {\n        return (this.user.password !== this.password2)\n      } else {\n        return false\n      }\n    },\n  },\n  mounted() {\n    if (this.loggedIn) {\n      this.$router.push('/profile');\n    }\n  },\n  methods: {\n    handleRegister() {\n      this.message = '';\n      this.submitted = true;\n      this.$validator.validate().then(isValid => {\n        if (isValid && !this.notSamePasswords) {\n          this.$store.dispatch('auth/register', this.user).then(\n            data => {\n              this.message = data.message;\n              this.successful = true;\n            },\n            error => {\n              this.message =\n                (error.response && error.response.data && error.response.data.message) ||\n                error.message ||\n                error.toString();\n              this.successful = false;\n            }\n          );\n        }\n      });\n    }\n  }\n};\n</script>"],"sourceRoot":"src/views"}]}